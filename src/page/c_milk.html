!DOCTYPE html>
<html lang="th">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>เครื่องมือคำนวณจำนวนนม</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<style>
		.container {
			max-width: 600px;
			margin-top: 15px;
			padding: 0 10px;
		}

		h3 {
			font-size: 1.5rem;
			font-weight: 600;
		}

		h5 {
			font-size: 1.25rem;
		}

		.output-box {
			font-size: 3rem;
			padding: 20px;
			background-color: #f8f9fa;
			border-radius: 8px;
			margin-bottom: 20px;
			border: 2px solid #007bff;
		}

		.btn-group-milk-format .btn {
			width: 100%;
			margin: 5px 0;
			white-space: normal;
			padding: 10px 5px;
			font-size: 0.9rem;
		}

		.btn-count-modifier .btn {
			flex-grow: 1;
			margin: 5px;
			padding: 12px 0;
			font-size: 1rem;
		}

		.current-value {
			font-weight: bold;
			color: #28a745;
		}

		.btn-milk-format.active {
			background-color: #007bff;
			color: white;
			border-color: #007bff;
		}
	</style>
</head>

<body class="bg-light">

	<div class="container text-center">
		<h3 class="mt-3 mb-3">เครื่องมือคำนวณจำนวนนม</h3>

		<div class="output-box t_output">0</div>

		<div class="mb-4">
			<p class="mb-1">รูปแบบนมที่เลือก: <span id="mD" class="current-value">0</span></p>
			<p class="mb-1">จำนวนถาดปัจจุบัน: <span id="tD" class="current-value">0</span></p>
			<p class="mb-1">จำนวนเศษปัจจุบัน: <span id="eD" class="current-value">0</span></p>
		</div>

		<hr>
		<h5 class="mt-4">รูปแบบนมต่อถาด (จำนวนตั้งต้น)</h5>
		<div class="row btn-group-milk-format">
			<script>
				// ข้อมูลปุ่ม: [จำนวน, ข้อความบนปุ่ม]
				const milkData = [
					[120, "นม 85 ml 120 ขวด"],
					[90, "นม 140 ml 90 ขวด"],
					[48, "ชาหมักเล็ก/โปรตีนเล็ก 48 ขวด"],
					[38, "ชาหมักใหญ่/โปรตีนใหญ่ 38 ขวด"],
					[25, "นม 400 ml 25 ขวด"],
					[30, "นม 300 ml 30 ขวด"],
					[16, "นม 700 ml 16 ขวด"],
					[10, "เฉาก๊วย 1 ถุง 10 หลอด"],	
					[24, "โยเกิร์ต 1 ถาด 24 ถ้วย"]
				];
				milkData.forEach(([val, txt]) => {
					document.write(`
                        <div class="col-6 col-sm-4">
                            <button class="btn btn-outline-primary btn-milk-format" onclick="setMilk(${val}, this)">${txt}</button>
                        </div>`);
				});
			</script>
		</div>

		<hr>
		<h5 class="mt-4">จำนวนถาด</h5>
		<div class="d-flex flex-wrap justify-content-center btn-count-modifier mb-4">
			<button class="btn btn-success" onclick="upd('t',1)">+1</button>
			<button class="btn btn-success" onclick="upd('t',5)">+5</button>
			<button class="btn btn-success" onclick="upd('t',10)">+10</button>
			<button class="btn btn-danger" onclick="upd('t',-1)">-1</button>
			<button class="btn btn-danger" onclick="upd('t',-5)">-5</button>
			<button class="btn btn-danger" onclick="upd('t',-10)">-10</button>
			<button class="btn btn-secondary" onclick="upd('t',0)">รีเซ็ต</button>
		</div>

		<hr>
		<h5 class="mt-4">จำนวนเศษ</h5>
		<div class="d-flex flex-wrap justify-content-center btn-count-modifier mb-4">
			<button class="btn btn-success" onclick="upd('e',1)">+1</button>
			<button class="btn btn-success" onclick="upd('e',5)">+5</button>
			<button class="btn btn-success" onclick="upd('e',10)">+10</button>
			<button class="btn btn-danger" onclick="upd('e',-1)">-1</button>
			<button class="btn btn-danger" onclick="upd('e',-5)">-5</button>
			<button class="btn btn-danger" onclick="upd('e',-10)">-10</button>
			<button class="btn btn-secondary" onclick="upd('e',0)">รีเซ็ต</button>
		</div>
	</div>

	<script>
		let milk = 0, tray = 0, extra = 0;

		// ฟังก์ชันแสดงผล
		function render() {
			document.querySelector('.t_output').innerText = (milk * tray) + extra;
			document.getElementById('mD').innerText = milk;
			document.getElementById('tD').innerText = tray;
			document.getElementById('eD').innerText = extra;
		}

		// ฟังก์ชันเลือกรูปแบบนม
		function setMilk(val, btn) {
			milk = val;
			document.querySelectorAll('.btn-milk-format').forEach(b => b.classList.remove('active'));
			btn.classList.add('active');
			render();
			document.querySelector('.t_output').innerText = 0 ;
		}

		// ฟังก์ชันอัปเดตค่า ถาด (t) และ เศษ (e)
		function upd(type, val) {
			if (type === 't') tray = (val === 0) ? 0 : Math.max(0, tray + val);
			else extra = (val === 0) ? 0 : Math.max(0, extra + val);
			render();
		}

		// เรียกใช้งานครั้งแรก
		window.onload = render;
	</script>

</body>

</html>